<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Web Rubik's Cube</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body { margin: 0; background: #111; color: #eee; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
    #top { text-align: center; padding: 12px; }
    #renderer {display:block; margin: 0 auto; width: 100%; height: calc(100vh - 110px); }
    #controls { text-align:center; padding: 10px; }
    button { margin: 4px; padding: 8px 12px; font-size: 14px; border-radius:8px; border: none; cursor: pointer;}
    button:active {transform: translateY(1px); }
    .big { padding: 10px 18px; font-weight: 600; }
    #info {font-size: 13px; opacity: 0.85; margin-top:6px; }
  </style>
</head>
<body>
  
  <div id="top">
    <h1 style="margin:0; font-size:20px;">Rubik's Cube Game</h1>
    <div id="controls">
      <button data-move="U">U</button>
      <button data-move="U'">U'</button>
      <button data-move="U2">U2</button>
  
      <button data-move="D">D</button>
      <button data-move="D'">D'</button>
      <button data-move="D2">D2</button>
  
      <button data-move="L">L</button>
      <button data-move="L'">L'</button>
      <button data-move="L2">L2</button>
  
      <button data-move="R">R</button>
      <button data-move="R'">R'</button>
      <button data-move="R2">R2</button>
  
      <button data-move="F">F</button>
      <button data-move="F'">F'</button>
      <button data-move="F2">F2</button>
  
      <button data-move="B">B</button>
      <button data-move="B'">B'</button>
      <button data-move="B2">B2</button>
  
      <button id="shuffleBtn">Shuffle</button>
      <button id="undoBtn">Undo</button>
    </div>
    <div id="info">Click a face-button to rotate that layer 90Â°. Shuffle uses several random moves.</div>
  </div>
  
  <div id="renderer"></div>


  <!-- Three.js -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
  <!-- Put main JS in separate file -->
  <script src="main.js"></script>
  <script>
    let scene = new THREE.Scene();
    let camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
    let renderer = new THREE.WebGLRenderer({antialias: true});
    renderer.setSize(window.innerWidth, window.innerHeight * 0.8);
    document.body.appendChild(renderer.domElement);

    let cubelets = [];
    const size = 3;
    const spacing = 1.05;

    // Colors for faces (U, D, L, R, F, B)
    const faceColors = [0xffffff, 0xffff00, 0xff8000, 0xff0000, 0x00ff00, 0x0000ff];

    function createCube() {
      for (let x = 0; x < size; x++) {
        for (let y = 0; y < size; y++) {
          for (let z = 0; z < size; z++) {
            let geo = new THREE.BoxGeometry(0.95, 0.95, 0.95);
            let mats = faceColors.map(c => new THREE.MeshBasicMaterial({color: c}));
            let cubelet = new THREE.Mesh(geo, mats);
            cubelet.position.set((x-1)*spacing, (y-1)*spacing, (z-1)*spacing);
            scene.add(cubelet);
            cubelets.push(cubelet);
          }
        }
      }
    }

    createCube();
    camera.position.z = 6;



    function rotateFace(face) {
      console.log("Rotate face:", face);
      // TODO: Implement actual face rotations
      alert("Rotation of " + face + " not yet implemented.");
    }

    function shuffleCube() {
      console.log("Shuffling cube...");
      for (let i = 0; i < 20; i++) {
        let faces = ['U','D','L','R','F','B'];
        let move = faces[Math.floor(Math.random() * faces.length)];
        rotateFace(move);
      }
    }
  </script>
</body>
</html>
